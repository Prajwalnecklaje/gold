<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Pendo Embedded Guide – Fixed</title>

<style>
  body {
    font-family: Arial, sans-serif;
    padding: 20px;
  }

  #table {
    border: 1px solid #ccc;
    padding: 20px;
    min-height: 80px;
    margin-top: 20px;
  }

  .loading {
    color: #888;
  }

  .empty-state {
    color: gray;
  }

  .row {
    color: green;
  }
</style>
</head>

<body>

<h2>Embedded Guide – Correct Implementation</h2>

<button id="searchBtn">Search (No Results)</button>

<div id="table"></div>

<script>
/* =====================================================
   INITIAL PAGE LOAD (NO EMPTY STATE)
===================================================== */

const table = document.getElementById('table');

// Show loading state instead of empty state
table.innerHTML = `<div class="loading">Loading data…</div>`;

// Simulate async data fetch
setTimeout(() => {
  table.innerHTML = `<div class="row">Row 1</div>`;
}, 1000);
</script>

<script>
/* =====================================================
   USER SEARCH → NO RESULTS (EMPTY STATE APPEARS)
===================================================== */

document.getElementById('searchBtn').onclick = () => {
  table.innerHTML = `
    <div class="empty-state">No search results</div>
  `;
};
</script>

<!-- Real Pendo agent -->
<script src="./pendo/init.js"></script>

</body>
</html>
